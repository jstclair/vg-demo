<html>
    <head>
        <meta charset="utf-8">
        <title>VG Demo</title>

        <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
        <link href="bower_components/knockout-virtual-grid/out/knockout-virtual-grid.css" rel="stylesheet" />
        <style>
            body {
                padding-top: 50px;
            }
            .starter-template {
                padding: 40px 15px;
                text-align: center;
            }
        </style>
    </head>
<body>
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">Project name</a>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#">Home</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div><!--/.nav-collapse -->
        </div>
    </nav>

    <div class="container">
        <div class="starter-template">
            <h1>Virtual Grid Demo </h1>
            <virtual-grid params="dataSource: dataSource"></virtual-grid>
        </div>

    </div><!-- /.container -->

    <script type="text/javascript" src="bower_components/jquery/dist/jquery.js"></script>
    <script type="text/javascript" src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
    <script type="text/javascript" src="bower_components/requirejs/require.js"></script>
    <script type="text/javascript">
    requirejs.config({
        paths: {
            "text": "bower_components/requirejs-text/text",
            "knockout": "bower_components/knockout/dist/knockout.debug",
            "lodash": "bower_components/lodash/dist/lodash.min",
            "virtualgrid": "bower_components/knockout-virtual-grid/out/knockout-virtual-grid"
        },
        shim: {
            "virtualgrid": { deps: ['knockout'] }
        }
    });

    require(["knockout", "virtualgrid", "lodash"], function(ko, virtualgrid, _){
            function VM() {
                var columns = _(_.range(300))
                    .map(function(v, i) {
                        return {
                            css: ['my-col'],
                            value: i
                        };
                    });

                var rows = _(_.range(100))
                    .map(function(v, i) {
                        return {
                            css: ['my-row'],
                            columns: columns.value()
                        };
                    }).value();

                this.dataSource = ko.observableArray(rows);
            }

            ko.components.register('virtual-grid', {
                viewModel: { require: 'virtualgrid' },
                template: { require: 'text!bower_components/knockout-virtual-grid/out/knockout-virtual-grid.html' }
            });

            var vm  = new VM(ko);
            ko.applyBindings(vm);
    });
    </script>
</body>
</html>
